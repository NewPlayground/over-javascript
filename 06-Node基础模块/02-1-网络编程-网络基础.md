## 一 Web 开发的概念

### 1.1 HTTP 协议的请求响应

HTTP 是一种无状态的协议，客户端与服务端之间的链接是基于一种请求应答的模式。即：客户端和服务端建立一个链接，客户端提交一个请求，服务端收到该请求后返回一个响应，然后二者就会断开连接。

![](../images/node/01-001.svg)

不过 HTTP 协议是基于 TCP 协议的上层协议，在请求响应模型中，仍然遵循三次握手、四次挥手的规范！

### 1.2 CS 和 BS 架构

CS 架构是典型的请求响应模型，客户端（client）发出请求，服务端（server）返回响应。日常生活中常见的客户端，如：QQ，迅雷，手机视频播放器等。

BS 架构是互联网兴起后开始流行的软件架构，由浏览器（Browser）作为客户端发起请求，并接收服务端的响应。

CS 架构与 BS 架构的异同主要体现在安装方式上：

- 安装方式：CS 架构都有自己的独立客户端，需要独立安装，且每次有新版本更新都要进行下载安装包升级。BS 架构的系统只需要一个浏览器，使用网址访问即可，每次系统更新，用户无需更新，刷新浏览器即可。

CS 与 BS 架构各有优缺点，适合在不同的场景中，如需求多变的互联网系统，较多采用 BS 架构，对界面要求性能高、交互性强则可以使用 CS 架构。

### 1.3 输入 url 到网页展示的过程

假设我们点击了某网页上的一个链接，指向一个新浪体育上一个詹姆斯扣球新闻，一般网页地址为：`http://www.sina.com/sport/nba/20200203-zms.html`。

这个访问过程大致如下：

- 第一步：查找 DNS 服务
- 第二步：根据 DNS 服务查找该网页所在服务器 IP
- 第三步：浏览器与网页所在服务器建立连接
- 第四步：浏览器发出获取文件请求，服务端响应请求返回文件内容
- 第五步：浏览器与服务端双方断开连接
- 第六步：浏览器将获取到的数据通过解析引擎展示给用户

### 1.4 web 开发中的常见概念

报文：HTTP 协议中有两类报文，请求报文、响应报文。HTTP 是面向文本的，所以报文中的每一个字段都是一些 ASCII 码串，因而各个字段的长度都是不确定的。HTTP 请求报文和响应报文都是由三个部分组成。这两种报文格式的区别就是开始行不同。

- 开始行：用于区分是请求报文还是响应报文。在请求报文中的开始行叫做请求行，而在响应报文中的开始行叫做状态行。
- 首部行：用来说明浏览器、服务器或报文主体的一些信息。首部可以有好几行，但也可以不使用。
- 实体主体：在请求报文中一般都不用这个字段，而在响应报文中也可能没有这个字段

示例：

```
GET/sample.jspHTTP/1.1
Accept:image/gif.image/jpeg,/
Accept-Language:zh-cn
Connection:Keep-Alive
Host:localhost
User-Agent:Mozila/4.0(compatible;MSIE5.01;Window NT5.0)
Accept-Encoding:gzip,deflate
```

请求方法：客户端和服务器之间交互会使用不同的方法。常见的请求方法有：

- OPTIOON：请求一些选项的信息
- GET：请求读取由 URL 所标记的信息
- HEAD：请求读取由 URL 所标记的信息的首部
- POST：向服务器提交信息
- PUT：在指明的 URL 下存储一个文档
- DELETE：删除指明的 URL 所标记的资源
- TRAC：用来进行环回测试的请求报文
- CONNECT：用于代理服务器

响应的状态码通常是三位数字：

- 1xx 表示通知信息，如请求收到或正在进行处理
- 2xx 表示成功，如接受或知道了
- 3xx 表示重定向，如要完成请求还必须采取进一步的行动
- 4xx 表示客户的差错，如请求中有错误的语法或不能完成
- 5xx 表示服务器的差错，如服务器失效无法完成请求
